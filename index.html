<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Para Sof√≠ ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
    /* --- ESTILOS (DISE√ëO) --- */
    :root { 
        --primary: #ff8fa3; 
        --secondary: #ffc2d1; 
        --text: #594a4e; 
        --white: #ffffff; 
        --glass: rgba(255, 255, 255, 0.90); 
    }

    body { 
        margin: 0; 
        font-family: 'Poppins', sans-serif; 
        background: linear-gradient(120deg, #ff9a9e 0%, #fecfef 100%); 
        background-size: 200% 200%; 
        color: var(--text); 
        min-height: 100vh; 
        display: flex; 
        justify-content: center; 
        align-items: center; 
        overflow-x: hidden; 
        animation: gradientBG 10s ease infinite; 
    }

    @keyframes gradientBG { 
        0% { background-position: 0% 50%; } 
        50% { background-position: 100% 50%; } 
        100% { background-position: 0% 50%; } 
    }

    .container { 
        background: var(--glass); 
        backdrop-filter: blur(10px); 
        -webkit-backdrop-filter: blur(10px); 
        border-radius: 20px; 
        padding: 40px; 
        width: 90%; 
        max-width: 500px; 
        box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
        text-align: center; 
        position: relative; 
        overflow: hidden; 
        transition: height 0.3s ease; 
        max-height: 90vh; /* Para evitar que se salga en pantallas peque√±as */
        overflow-y: auto; /* Scroll si es necesario */
    }

    .screen { display: none; animation: fadeIn 0.8s ease forwards; }
    .active { display: block; }
    
    @keyframes fadeIn { 
        from { opacity: 0; transform: translateY(20px); } 
        to { opacity: 1; transform: translateY(0); } 
    }

    h1, h2 { 
        font-family: 'Great Vibes', cursive; 
        color: var(--primary); 
        font-size: 3em; 
        margin-bottom: 10px; 
        margin-top: 0; 
        text-shadow: 2px 2px 0px rgba(255,255,255,0.5); 
    }
    h2 { font-size: 2.5em; }

    p { line-height: 1.6; font-size: 1.1em; margin-bottom: 25px; }

    button.nav-btn { 
        padding: 12px 30px; 
        font-size: 16px; 
        border: none; 
        border-radius: 50px; 
        background: linear-gradient(45deg, var(--primary), #ff6b81); 
        color: white; 
        cursor: pointer; 
        box-shadow: 0 5px 15px rgba(255, 107, 129, 0.4); 
        transition: all 0.3s ease; 
        font-family: 'Poppins', sans-serif; 
        font-weight: 600; 
        letter-spacing: 1px; 
        margin-top: 10px;
    }
    button.nav-btn:hover { transform: translateY(-3px) scale(1.05); }

    .face-parts { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
    .part { 
        background: white; 
        padding: 8px 15px; 
        border-radius: 15px; 
        cursor: pointer; 
        box-shadow: 0 4px 6px rgba(0,0,0,0.05); 
        transition: all 0.3s; 
        display: flex; 
        align-items: center; 
        gap: 8px; 
        font-size: 0.9em; 
    }
    .part i { color: var(--primary); }
    .part:hover { transform: translateY(-5px); background: #fff0f3; }

    #poem { 
        font-style: italic; 
        color: #d63384; 
        min-height: 60px; 
        font-weight: 500; 
        padding: 10px; 
        border-radius: 10px; 
        background: rgba(255,255,255,0.5); 
    }

    .songs { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px; }
    .song { 
        cursor: pointer; 
        background: white; 
        border-radius: 12px; 
        padding: 10px; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.05); 
        transition: transform 0.3s; 
    }
    .song:hover { transform: scale(1.05); }
    .song.playing img { animation: pulse 1s infinite; box-shadow: 0 0 15px var(--primary); }
    
    @keyframes pulse { 
        0% { transform: scale(1); } 
        50% { transform: scale(1.05); } 
        100% { transform: scale(1); } 
    }
    
    .song img { width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 8px; margin-bottom: 8px; }
    .song p { margin: 0; font-size: 0.85em; font-weight: 600; color: #444; }
    #songMessage { color: #d63384; font-weight: 600; min-height: 40px; margin-bottom: 5px; }

    .things { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
    .thing { 
        background: white; 
        padding: 15px 25px; 
        border-radius: 50px; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.05); 
        font-weight: 600; 
        color: var(--primary); 
        cursor: pointer; /* Indica que es clicable */
        transition: transform 0.2s;
    }
    .thing:hover { transform: scale(1.1); background-color: #fff0f3; }

    .heart { 
        position: absolute; 
        color: #ff4757; 
        animation: floatUp 4s linear forwards; 
        opacity: 0; 
        pointer-events: none; 
        z-index: 100; 
    }
    @keyframes floatUp { 
        0% { transform: translateY(0) scale(0.5); opacity: 1; } 
        100% { transform: translateY(-100vh) scale(1.2); opacity: 0; } 
    }

    /* --- ESTILOS PARA LA VENTANA EMERGENTE (MODAL) --- */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: 2000;
        display: none; /* Oculto por defecto */
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(5px);
    }
    .modal-content {
        background: white;
        padding: 30px;
        border-radius: 20px;
        max-width: 90%;
        width: 350px;
        text-align: center;
        position: relative;
        animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    @keyframes popIn {
        from { transform: scale(0.5); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }
    .modal-img {
        width: 100%;
        border-radius: 15px;
        margin-bottom: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .close-modal {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        color: #888;
        cursor: pointer;
        background: none;
        border: none;
    }
</style>
</head>
<body>

<div class="modal-overlay" id="modalOverlay" onclick="closeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <button class="close-modal" onclick="closeModal()">&times;</button>
        <img id="modalImg" class="modal-img" src="" alt="Foto">
        <p id="modalText" style="font-weight: 600; color: var(--primary);">Mensaje aqu√≠</p>
    </div>
</div>

<div class="container">
    <div class="screen active" id="screen1">
        <h1>Para Sof√≠</h1>
        <div style="font-size: 40px; margin: 20px 0;">üíå</div>
        <p>Quise preparar algo especial, hecho con mucho amor, para mostrarte todo lo que siento por ti.</p>
        <button class="nav-btn" onclick="next(2); createHearts(15)">Abrir carta <i class="fas fa-heart"></i></button>
    </div>

    <div class="screen" id="screen2">
        <h2>Lo que adoro de ti</h2>
        <p>Toca una parte para descubrir un secreto...</p>
        <div class="face-parts">
            <div class="part" onclick="showPoem('ojos'); createHearts(10)"><i class="fas fa-eye"></i> Ojos</div>
            <div class="part" onclick="showPoem('cejas'); createHearts(10)"><i class="fas fa-pencil-alt"></i> Cejas</div>
            <div class="part" onclick="showPoem('nariz'); createHearts(10)"><i class="fas fa-compress-arrows-alt"></i> Nariz</div>
            <div class="part" onclick="showPoem('boca'); createHearts(10)"><i class="fas fa-kiss-wink-heart"></i> Boca</div>
            <div class="part" onclick="showPoem('cabello'); createHearts(10)"><i class="fas fa-wind"></i> Cabello</div>
        </div>
        <p id="poem">Selecciona algo arriba ‚ú®</p>
        <button class="nav-btn" onclick="next(3)">Siguiente <i class="fas fa-arrow-right"></i></button>
    </div>

    <div class="screen" id="screen3">
        <h2>¬øPor qu√© eres √∫nica?</h2>
        <div style="font-size: 40px; margin: 10px 0; color: #ffc107;">‚ú®</div>
        <p style="text-align: justify; padding: 0 10px;">
            Eres √∫nica porque tu forma de ver el mundo tiene una luz que no encuentro en ning√∫n otro lugar.
            Porque todo lo que haces, lo haces con un coraz√≥n que late con prop√≥sito.
            <br><br>
            <strong>En tu risa, en tu calma y en tu manera de so√±ar‚Ä¶ hay una belleza que me sostiene.</strong>
        </p>
        <button class="nav-btn" onclick="next(4); createHearts(5)">Siguiente <i class="fas fa-arrow-right"></i></button>
    </div>

    <div class="screen" id="screen4">
        <h2>Suenan a ti üé∂</h2>
        <p>Haz clic para escuchar</p>
        <div class="songs">
            <div class="song" id="song-nothing" onclick="playSong('nothing'); createHearts(10)">
                <img src="nothing.png" alt="Nothing On You">
                <p>Nothing On You</p>
            </div>
            
            <div class="song" id="song-oneonly" onclick="playSong('oneonly'); createHearts(10)">
                <img src="oneonly.png" alt="My One and Only Love">
                <p>My One and Only Love</p>
            </div>
            
            <div class="song" id="song-cuco" onclick="playSong('cuco'); createHearts(10)">
                <img src="canela.png" alt="Piel Canela">
                <p>Piel Canela</p>
            </div>
            
            <div class="song" id="song-carino" onclick="playSong('carino'); createHearts(10)">
                <img src="carino.png" alt="Cari√±o">
                <p>Cari√±o</p>
            </div>
        </div>
        <p id="songMessage">‚ô´ Toca una canci√≥n ‚ô´</p>
        <button onclick="stopMusic()" style="background:transparent; border:1px solid #aaa; color:#555; padding:5px 10px; border-radius:20px; font-size:0.8em; margin-bottom:15px; cursor:pointer;">Detener m√∫sica</button>
        <br>
        <button class="nav-btn" onclick="next('4b')">M√°s canciones... <i class="fas fa-music"></i></button>
    </div>

    <div class="screen" id="screen4b">
        <h2>Me las ense√±aste t√∫ ‚ù§Ô∏è</h2>
        <p>Ahora estas canciones me recuerdan a ti...</p>
        <div class="songs">
            <div class="song" id="song-ellabrilla" onclick="playSong('ellabrilla'); createHearts(10)">
                <img src="ellabrilla.png" alt="Ella brilla">
                <p>Ella Brilla</p>
            </div>
            
            <div class="song" id="song-troye" onclick="playSong('troye'); createHearts(10)">
                <img src="troye.png" alt="Troye Sivan">
                <p>One Of Your Girls</p>
            </div>
            
            <div class="song" id="song-miloj" onclick="playSong('miloj'); createHearts(10)">
                <img src="miloj.png" alt="Milo J">
                <p>Ama de mi sol</p>
            </div>
            
            <div class="song" id="song-laufey" onclick="playSong('laufey'); createHearts(10)">
                <img src="laufey.png" alt="Laufey">
                <p>Dear Soul Mate</p>
            </div>
        </div>
        <p id="songMessage2" style="color: #d63384; font-weight: 600; min-height: 20px;">‚ô´</p>
        <button onclick="stopMusic()" style="background:transparent; border:1px solid #aaa; color:#555; padding:5px 10px; border-radius:20px; font-size:0.8em; margin-bottom:15px; cursor:pointer;">Detener m√∫sica</button>
        <br>
        <button class="nav-btn" onclick="next(5)">Siguiente <i class="fas fa-arrow-right"></i></button>
    </div>

    <div class="screen" id="screen5">
        <h2>Tu nombre est√° en...</h2>
        <p style="font-size: 0.9em; margin-bottom: 20px;">(Dale clic a cada uno üëá)</p>
        <div class="things">
            <div class="thing" onclick="openModal('atardeceres')"><i class="fas fa-sun"></i> Atardeceres</div>
            <div class="thing" onclick="openModal('perritos')"><i class="fas fa-dog"></i> Perritos</div>
            <div class="thing" onclick="openModal('flores')"><i class="fas fa-spa"></i> Flores</div>
            <div class="thing" onclick="openModal('postres')"><i class="fas fa-ice-cream"></i> Postres</div>
        </div>
        <br>
        <p>En cada cosa bonita que veo, te encuentro a ti.</p>
        <button class="nav-btn" onclick="next(7); shower()">Ver la Celebraci√≥n <i class="fas fa-calendar-alt"></i></button>
    </div>

    <div class="screen" id="screen7">
        <h2>Un mes contigo</h2>
        <div style="font-size: 50px; color: var(--primary); margin: 15px 0;"> ‚ù§Ô∏è Lo que aprend√≠ contigo ‚ù§Ô∏è </div>
        <p>
            Contigo aprend√≠ que el amor no corre, acompa√±a.
            Que no todo tiene que ser intenso para ser profundo,
            y que quedarse tambi√©n es una forma de elegir. 
            No celebro el tiempo, celebro lo que crece.
            Y deseo seguir construy√©ndolo contigo,
            sin prisa, pero sin pausa.
        </p>
        <p style="font-style: italic; font-weight: 600;">
            Gracias por la calma, por el caos, por las risas y por ser, simplemente, t√∫.
        </p>
        <button class="nav-btn" onclick="next(8); createHearts(5)">Ver el regalo <i class="fas fa-gift"></i></button>
    </div>

    <div class="screen" id="screen8">
        <h2>Mi Regalo para Ti</h2>
        <div style="font-size: 50px; margin: 15px 0;">üéÄ</div>
        <p>
            Elijo caminar contigo,
            celebrar lo simple
            y construir algo que no se agote en un momento. 

            Te regalo mi tiempo,
            mi cuidado,
            y un amor genuino y leal.
        </p>
        <p style="font-size: 1.1em; font-weight: bold; color: #594a4e;">
            "Elijo amarte Ana Sof√≠a."
        </p>
        <button class="nav-btn" onclick="next(9)">¬°El Gran Final! <i class="fas fa-heart"></i></button>
    </div>

    <div class="screen" id="screen9">
        <h2>Para cerrar...</h2>
        <div style="font-size: 50px; margin-bottom: 20px;">‚ù§Ô∏è</div>
        <p style="font-size: 1.2em; font-weight: bold;">
            Te amo m√°s de lo que las palabras pueden sostener, Sof√≠. 
        </p>
        <p>Y si el mundo me diera mil vidas, en cada una volver√≠a a elegirte.</p>
        <button class="nav-btn" onclick="next(1); stopMusic()">Volver al inicio ‚Ü∫</button>
    </div>
</div>

<script>
/* --- L√ìGICA JAVASCRIPT --- */

// 1. CONFIGURACI√ìN DE M√öSICA
const musicFiles = {
    nothing:    "nothing.mp3",
    oneonly:    "oneonly.mp3", 
    cuco:       "pielcanela.mp3",
    carino:     "carino.mp3",
    // Nuevas canciones
    ellabrilla: "ellabrilla.mp3",
    troye:      "troye.mp3",
    miloj:      "miloj.mp3",
    laufey:     "laufey.mp3"
};

// 2. CONFIGURACI√ìN DE MENSAJES DE LAS COSAS (ATARDECERES, ETC)
const thingsData = {
    atardeceres: {
        img: "foto_atardecer.jpeg", 
        msg: "Porque cada atardecer tiene los colores c√°lidos que siento cuando hablo contigo."
    },
    perritos: {
        img: "foto_perrito.jpeg", 
        msg: "Porque tienes un coraz√≥n tan puro y genuino como el de ellos."
    },
    flores: {
        img: "foto_flores.jpeg", 
        msg: "Porque floreces incluso en d√≠as grises y traes belleza a donde vayas."
    },
    postres: {
        img: "foto_postre.jpeg", 
        msg: "Porque eres, sin duda, la parte m√°s dulce de mi vida."
    }
};

let currentAudio = null;

// Funci√≥n para cambiar de pantalla
function next(n) {
    const current = document.querySelector('.active');
    if(current) current.classList.remove('active');
    
    // Si n es un numero lo convierte a string 'screen1', si es texto lo usa directo
    let screenId = 'screen' + n;
    
    setTimeout(() => { 
        const nextScreen = document.getElementById(screenId);
        if(nextScreen) nextScreen.classList.add('active'); 
        // Scroll al tope por si acaso
        document.querySelector('.container').scrollTop = 0;
    }, 100);
}

// Funci√≥n del poema (Partes de la cara)
function showPoem(part) {
    const poems = {
        ojos: "Tus ojos‚Ä¶ dos refugios donde todo el ruido del mundo se vuelve silencio.",
        cejas: "Tus cejas dibujan la intenci√≥n de tu alma, suaves, exactas, hermosas.",
        nariz: "Tu nariz, tan tuya, tan perfecta, un punto dulce en tu armon√≠a.",
        boca: "Tu boca‚Ä¶ donde guardas risas que podr√≠an sanar a cualquiera.",
        cabello: "Tu cabello cae como una historia que siempre quiero seguir leyendo."
    };
    const element = document.getElementById('poem');
    element.style.opacity = 0;
    setTimeout(() => { element.innerText = poems[part]; element.style.opacity = 1; }, 200);
}

// Funci√≥n para reproducir m√∫sica
function playSong(songKey) {
    const messages = {
        nothing: "Porque contigo siento que no hay nadie m√°s, solo t√∫ y lo que somos.",
        oneonly: "Mon Laferte lo dice mejor: eres mi √∫nico y gran amor.",
        cuco: "Porque tu tono es miel y tu forma de querer es c√°lida.",
        carino: "Eres mi sol y mi calma. Simplemente, te quiero ver, cari√±o.",
        // Mensajes nuevos
        ellabrilla: "Porque t√∫ brillas m√°s que cualquier estrella.",
        troye: "Una canci√≥n especial, para una chica irrepetible.",
        miloj: "Eres la due√±a de mi sol y de mis d√≠as.",
        laufey: "Mi alma gemela, en esta y en todas las vidas."
    };
    
    // Actualizar mensaje en la pantalla correspondiente
    const msgDiv1 = document.getElementById('songMessage');
    const msgDiv2 = document.getElementById('songMessage2');
    
    if(messages[songKey]) {
        if(msgDiv1 && document.getElementById('screen4').classList.contains('active')) msgDiv1.innerText = messages[songKey];
        if(msgDiv2 && document.getElementById('screen4b').classList.contains('active')) msgDiv2.innerText = messages[songKey];
    }

    if (currentAudio) { currentAudio.pause(); currentAudio.currentTime = 0; }
    document.querySelectorAll('.song').forEach(el => el.classList.remove('playing'));

    const file = musicFiles[songKey];
    if(file) {
        currentAudio = new Audio(file);
        currentAudio.play().then(() => {
            document.getElementById('song-' + songKey).classList.add('playing');
        }).catch(error => {
            console.log("Error al reproducir: " + error);
            alert("No se encontr√≥ el audio: " + file + ". Aseg√∫rate de guardarlo en la carpeta.");
        });
        currentAudio.onended = function() {
            document.getElementById('song-' + songKey).classList.remove('playing');
        };
    }
}

function stopMusic() {
    if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        document.querySelectorAll('.song').forEach(el => el.classList.remove('playing'));
    }
}

// Funciones para el Modal (Ventana emergente)
function openModal(thingKey) {
    const data = thingsData[thingKey];
    if(!data) return;

    document.getElementById('modalImg').src = data.img;
    document.getElementById('modalText').innerText = data.msg;
    
    const overlay = document.getElementById('modalOverlay');
    overlay.style.display = 'flex';
}

function closeModal() {
    document.getElementById('modalOverlay').style.display = 'none';
}

// Efectos visuales
function createHearts(amount) {
    for (let i = 0; i < amount; i++) {
        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.innerHTML = '‚ù§Ô∏è';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.fontSize = Math.random() * 20 + 10 + 'px';
        heart.style.animationDuration = Math.random() * 2 + 3 + 's';
        document.body.appendChild(heart);
        setTimeout(() => { heart.remove(); }, 5000);
    }
}

function shower() {
    let count = 0;
    let interval = setInterval(() => { 
        createHearts(2); 
        count++;
        if(count > 25) clearInterval(interval);
    }, 200);
}
</script>

</body>
</html>